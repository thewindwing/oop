<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    Array.prototype.myReduce = function (fn, initialValue) {

        if (this.length === 0) {
            console.error('Reduce of empty array with no initial value');
        } else if (this.length === 1) {
            return this[0];
        } else if (this.length === 2) {
            return fn(this[0], this[1]);
        } else if (this.length > 2) {
            if (initialValue === undefined) {
                var preSum = fn(this[0], this[1]);
                for (var i = 2; i < this.length; i++) {
                    preSum = fn(preSum, this[i]);
                }
                return preSum;
            } else {
                for (var j = 0; j < this.length; j++) {
                    initialValue = fn(initialValue, this[j])
                }
                return initialValue;
            }
        }
    };

    var arr = [5, 4, 3, 2, 1];
    var arr1 = [
        {age: 20}, {age: 10}, {age: 5}
    ];
    //    var arr=[1,2];
    console.log(arr.myReduce(function (pre, cur, i) {
        console.log(pre, cur);
        return pre + cur;

    }));
    var a = arr1.myReduce(function (pre, cur) {
        console.log(pre, cur);
        return pre - cur.age
    }, 0);
    console.log(a);
</script>
</body>
</html>